{"ast":null,"code":"import _classCallCheck from \"/Users/IAGO/Desktop/Portfolio/Veterinaria/spring-petclinic-angular-master/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/IAGO/Desktop/Portfolio/Veterinaria/spring-petclinic-angular-master/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport { VisitService } from '../visit.service';\nimport { Router } from '@angular/router';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../visit.service\";\nimport * as i3 from \"@angular/common\";\n\nfunction VisitListComponent_tr_9_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r3 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\")(6, \"button\", 2);\n    i0.ɵɵlistener(\"click\", function VisitListComponent_tr_9_Template_button_click_6_listener() {\n      var restoredCtx = i0.ɵɵrestoreView(_r3);\n      var visit_r1 = restoredCtx.$implicit;\n      var ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.editVisit(visit_r1));\n    });\n    i0.ɵɵtext(7, \"Edit Visit\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"button\", 2);\n    i0.ɵɵlistener(\"click\", function VisitListComponent_tr_9_Template_button_click_8_listener() {\n      var restoredCtx = i0.ɵɵrestoreView(_r3);\n      var visit_r1 = restoredCtx.$implicit;\n      var ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.deleteVisit(visit_r1));\n    });\n    i0.ɵɵtext(9, \"Delete Visit\");\n    i0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    var visit_r1 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(visit_r1.date);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(visit_r1.description);\n  }\n}\n\nexport var VisitListComponent = /*#__PURE__*/function () {\n  function VisitListComponent(router, visitService) {\n    _classCallCheck(this, VisitListComponent);\n\n    this.router = router;\n    this.visitService = visitService;\n    this.noVisits = false;\n    this.visits = [];\n  }\n\n  _createClass(VisitListComponent, [{\n    key: \"ngOnInit\",\n    value: function ngOnInit() {}\n  }, {\n    key: \"editVisit\",\n    value: function editVisit(visit) {\n      this.router.navigate(['/visits', visit.id, 'edit']);\n    }\n  }, {\n    key: \"deleteVisit\",\n    value: function deleteVisit(visit) {\n      var _this = this;\n\n      this.visitService.deleteVisit(visit.id.toString()).subscribe(function (response) {\n        _this.responseStatus = response;\n        console.log('delete success');\n\n        _this.visits.splice(_this.visits.indexOf(visit), 1);\n\n        if (_this.visits.length === 0) {\n          _this.noVisits = true;\n        }\n      }, function (error) {\n        return _this.errorMessage = error;\n      });\n    }\n  }]);\n\n  return VisitListComponent;\n}();\n\nVisitListComponent.ɵfac = function VisitListComponent_Factory(t) {\n  return new (t || VisitListComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.VisitService));\n};\n\nVisitListComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: VisitListComponent,\n  selectors: [[\"app-visit-list\"]],\n  inputs: {\n    visits: \"visits\"\n  },\n  decls: 10,\n  vars: 2,\n  consts: [[1, \"table\", \"table-condensed\", 3, \"hidden\"], [4, \"ngFor\", \"ngForOf\"], [1, \"btn\", \"btn-default\", 3, \"click\"]],\n  template: function VisitListComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"table\", 0)(1, \"thead\")(2, \"tr\")(3, \"th\");\n      i0.ɵɵtext(4, \"Visit Date\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"th\");\n      i0.ɵɵtext(6, \"Description\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(7, \"th\");\n      i0.ɵɵtext(8, \"Actions\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵtemplate(9, VisitListComponent_tr_9_Template, 10, 2, \"tr\", 1);\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵproperty(\"hidden\", ctx.noVisits);\n      i0.ɵɵadvance(9);\n      i0.ɵɵproperty(\"ngForOf\", ctx.visits);\n    }\n  },\n  dependencies: [i3.NgForOf],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInZpc2l0LWxpc3QuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7Ozs7Ozs7Ozs7OztFQWdCRSIsImZpbGUiOiJ2aXNpdC1saXN0LmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuICpcbiAqICAqIENvcHlyaWdodCAyMDE2LTIwMTcgdGhlIG9yaWdpbmFsIGF1dGhvciBvciBhdXRob3JzLlxuICogICpcbiAqICAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiAgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiAgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqICAqXG4gKiAgKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICogICpcbiAqICAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqICAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqICAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICovXG5cbiJdfQ== */\"]\n});","map":{"version":3,"mappings":";;AAwBA,SAAQA,YAAR,QAA2B,kBAA3B;AACA,SAAQC,MAAR,QAAqB,iBAArB;;;;;;;;;;ICCEC,2BAAiC,CAAjC,EAAiC,IAAjC;IACMA;IAAgBA;IACpBA;IAAIA;IAAuBA;IAC3BA,2BAAI,CAAJ,EAAI,QAAJ,EAAI,CAAJ;IACkCA;MAAA;MAAA;MAAA;MAAA,OAASA,0CAAT;IAAyB,CAAzB;IAA2BA;IAAUA;IACrEA;IAAgCA;MAAA;MAAA;MAAA;MAAA,OAASA,4CAAT;IAA2B,CAA3B;IAA6BA;IAAYA;;;;;IAJvEA;IAAAA;IACAA;IAAAA;;;;ADIR,WAAaC,kBAAb;EAOE,4BAAoBC,MAApB,EAA4CC,YAA5C,EAAsE;IAAA;;IAAlD;IAAwB;IAH5C,gBAAW,KAAX;IAIE,KAAKC,MAAL,GAAc,EAAd;EACD;;EATH;IAAA;IAAA,OAWE,oBAAQ,CACP;EAZH;IAAA;IAAA,OAcE,mBAAUC,KAAV,EAAsB;MACpB,KAAKH,MAAL,CAAYI,QAAZ,CAAqB,CAAC,SAAD,EAAYD,KAAK,CAACE,EAAlB,EAAsB,MAAtB,CAArB;IACD;EAhBH;IAAA;IAAA,OAkBE,qBAAYF,KAAZ,EAAwB;MAAA;;MACtB,KAAKF,YAAL,CAAkBK,WAAlB,CAA8BH,KAAK,CAACE,EAAN,CAASE,QAAT,EAA9B,EAAmDC,SAAnD,CACE,kBAAQ,EAAG;QACT,KAAI,CAACC,cAAL,GAAsBC,QAAtB;QACAC,OAAO,CAACC,GAAR,CAAY,gBAAZ;;QACA,KAAI,CAACV,MAAL,CAAYW,MAAZ,CAAmB,KAAI,CAACX,MAAL,CAAYY,OAAZ,CAAoBX,KAApB,CAAnB,EAA+C,CAA/C;;QACA,IAAI,KAAI,CAACD,MAAL,CAAYa,MAAZ,KAAuB,CAA3B,EAA8B;UAC1B,KAAI,CAACC,QAAL,GAAgB,IAAhB;QACD;MACJ,CARH,EASE,eAAK;QAAA,OAAI,KAAI,CAACC,YAAL,GAAoBC,KAAxB;MAAA,CATP;IAUD;EA7BH;;EAAA;AAAA;;;mBAAanB,oBAAkBD;AAAA;;;QAAlBC;EAAkBoB;EAAAC;IAAAlB;EAAA;EAAAmB;EAAAC;EAAAC;EAAAC;IAAA;MCd/B1B,iCAA0D,CAA1D,EAA0D,OAA1D,EAA0D,CAA1D,EAA0D,IAA1D,EAA0D,CAA1D,EAA0D,IAA1D;MAGQA;MAAUA;MACdA;MAAIA;MAAWA;MACfA;MAAIA;MAAOA;MAGbA;MAQFA;;;;MAhBOA;MAQiBA;MAAAA","names":["VisitService","Router","i0","VisitListComponent","router","visitService","visits","visit","navigate","id","deleteVisit","toString","subscribe","responseStatus","response","console","log","splice","indexOf","length","noVisits","errorMessage","error","selectors","inputs","decls","vars","consts","template"],"sourceRoot":"","sources":["/Users/IAGO/Desktop/Portfolio/Veterinaria/spring-petclinic-angular-master/src/app/visits/visit-list/visit-list.component.ts","/Users/IAGO/Desktop/Portfolio/Veterinaria/spring-petclinic-angular-master/src/app/visits/visit-list/visit-list.component.html"],"sourcesContent":["/*\n *\n *  * Copyright 2016-2017 the original author or authors.\n *  *\n *  * Licensed under the Apache License, Version 2.0 (the \"License\");\n *  * you may not use this file except in compliance with the License.\n *  * You may obtain a copy of the License at\n *  *\n *  *      http://www.apache.org/licenses/LICENSE-2.0\n *  *\n *  * Unless required by applicable law or agreed to in writing, software\n *  * distributed under the License is distributed on an \"AS IS\" BASIS,\n *  * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  * See the License for the specific language governing permissions and\n *  * limitations under the License.\n *\n */\n\n/**\n * @author Vitaliy Fedoriv\n */\n\nimport {Component, Input, OnInit} from '@angular/core';\nimport {Visit} from '../visit';\nimport {VisitService} from '../visit.service';\nimport {Router} from '@angular/router';\n\n@Component({\n  selector: 'app-visit-list',\n  templateUrl: './visit-list.component.html',\n  styleUrls: ['./visit-list.component.css']\n})\nexport class VisitListComponent implements OnInit {\n\n  @Input() visits: Visit[];\n  responseStatus: number;\n  noVisits = false;\n  errorMessage: string;\n\n  constructor(private router: Router, private visitService: VisitService) {\n    this.visits = [];\n  }\n\n  ngOnInit() {\n  }\n\n  editVisit(visit: Visit) {\n    this.router.navigate(['/visits', visit.id, 'edit']);\n  }\n\n  deleteVisit(visit: Visit) {\n    this.visitService.deleteVisit(visit.id.toString()).subscribe(\n      response => {\n        this.responseStatus = response;\n        console.log('delete success');\n        this.visits.splice(this.visits.indexOf(visit), 1 );\n        if (this.visits.length === 0) {\n            this.noVisits = true;\n          }\n      },\n      error => this.errorMessage = error as any);\n  }\n\n}\n","<!--\n  ~ /*\n  ~  * Copyright 2016-2017 the original author or authors.\n  ~  *\n  ~  * Licensed under the Apache License, Version 2.0 (the \"License\");\n  ~  * you may not use this file except in compliance with the License.\n  ~  * You may obtain a copy of the License at\n  ~  *\n  ~  *      http://www.apache.org/licenses/LICENSE-2.0\n  ~  *\n  ~  * Unless required by applicable law or agreed to in writing, software\n  ~  * distributed under the License is distributed on an \"AS IS\" BASIS,\n  ~  * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n  ~  * See the License for the specific language governing permissions and\n  ~  * limitations under the License.\n  ~  */\n  -->\n\n<table [hidden]=\"noVisits\" class=\" table table-condensed\">\n  <thead>\n  <tr>\n    <th>Visit Date</th>\n    <th>Description</th>\n    <th>Actions</th>\n  </tr>\n  </thead>\n  <tr *ngFor=\"let visit of visits\">\n    <td>{{ visit.date }}</td>\n    <td>{{ visit.description }}</td>\n    <td>\n      <button class=\"btn btn-default\" (click)=\"editVisit(visit)\">Edit Visit</button>\n      <button class=\"btn btn-default\" (click)=\"deleteVisit(visit)\">Delete Visit</button>\n    </td>\n  </tr>\n</table>\n\n\n\n\n\n"]},"metadata":{},"sourceType":"module"}