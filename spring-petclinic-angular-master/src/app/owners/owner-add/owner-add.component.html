<header class="page-header">
  <h2>Nuevo Cliente</h2>
</header>

<div class="page">
  <form
    (ngSubmit)="onSubmit(ownerForm.value)"
    #ownerForm="ngForm"
    class="form-horizontal"
  >
    <div class="form-group" hidden="true">
      <input
        type="text"
        hidden="true"
        class="form-control"
        id="id"
        [(ngModel)]="owner.id"
        name="id"
      />
    </div>
    <div
      class="form-group has-feedback"
      [class.has-success]="firstName.dirty && firstName.valid"
      [class.has-error]="firstName.dirty && !firstName.valid"
    >
      <label for="firstName" class="col-2 control-label">Nombre</label>
      <div class="col-10">
        <input
          type="text"
          class="form-control"
          id="firstName"
          [(ngModel)]="owner.firstName"
          minlength="2"
          required
          name="firstName"
          #firstName="ngModel"
        />
        <span
          class="glyphicon form-control-feedback"
          [class.glyphicon-ok]="firstName.valid"
          [class.glyphicon-remove]="!firstName.valid"
          aria-hidden="true"
        ></span>
        <span
          class="help-block"
          *ngIf="firstName.dirty && firstName.hasError('required')"
          >First name is required</span
        >
        <span
          class="help-block"
          *ngIf="firstName.dirty && firstName.hasError('minlength')"
          >First name must be at least 2 characters long</span
        >
      </div>
    </div>
    <div
      class="form-group has-feedback"
      [class.has-success]="lastName.dirty && lastName.valid"
      [class.has-error]="lastName.dirty && !lastName.valid"
    >
      <label for="lastName" class="col-2 control-label">Apellido</label>
      <div class="col-10">
        <input
          type="text"
          class="form-control"
          id="lastName"
          [(ngModel)]="owner.lastName"
          name="lastName"
          minlength="2"
          required
          #lastName="ngModel"
        />
        <span
          class="glyphicon form-control-feedback"
          [class.glyphicon-ok]="lastName.valid"
          [class.glyphicon-remove]="!lastName.valid"
          aria-hidden="true"
        ></span>
        <span
          class="help-block"
          *ngIf="lastName.dirty && lastName.hasError('required')"
          >Last name is required</span
        >
        <span
          class="help-block"
          *ngIf="lastName.dirty && lastName.hasError('minlength')"
          >Last name must be at least 2 characters long</span
        >
      </div>
    </div>
    <div
      class="form-group has-feedback"
      [class.has-success]="address.dirty && address.valid"
      [class.has-error]="address.dirty && !address.valid"
    >
      <label for="address" class="col-2 control-label">Dirección</label>
      <div class="col-10">
        <input
          type="text"
          class="form-control"
          id="address"
          [(ngModel)]="owner.address"
          name="address"
          required
          #address="ngModel"
        />
        <span
          class="glyphicon form-control-feedback"
          [class.glyphicon-ok]="address.valid"
          [class.glyphicon-remove]="!address.valid"
          aria-hidden="true"
        ></span>
        <span
          class="help-block"
          *ngIf="address.dirty && address.hasError('required')"
          >Dirección requerida</span
        >
      </div>
    </div>
    <div
      class="form-group has-feedback"
      [class.has-success]="city.dirty && city.valid"
      [class.has-error]="city.dirty && !city.valid"
    >
      <label for="city" class="col-2 control-label">Ciudad</label>
      <div class="col-10">
        <input
          type="text"
          class="form-control"
          id="city"
          [(ngModel)]="owner.city"
          name="city"
          required
          #city="ngModel"
        />
        <span
          class="glyphicon form-control-feedback"
          [class.glyphicon-ok]="city.valid"
          [class.glyphicon-remove]="!city.valid"
          aria-hidden="true"
        ></span>
        <span class="help-block" *ngIf="city.dirty && city.hasError('required')"
          >Ciudad requerida</span
        >
      </div>
    </div>
    <div
      class="form-group has-feedback"
      [class.has-success]="telephone.dirty && telephone.valid"
      [class.has-error]="telephone.dirty && !telephone.valid"
    >
      <label for="telephone" class="col-2 control-label">Teléfono</label>
      <div class="col-10">
        <input
          type="text"
          class="form-control"
          id="telephone"
          [(ngModel)]="owner.telephone"
          name="telephone"
          required
          maxlength="10"
          pattern="^[0-9]{0,10}$"
          #telephone="ngModel"
        />
        <span
          class="glyphicon form-control-feedback"
          [class.glyphicon-ok]="telephone.valid"
          [class.glyphicon-remove]="!telephone.valid"
          aria-hidden="true"
        ></span>
        <span
          class="help-block"
          *ngIf="telephone.dirty && telephone.hasError('required')"
          >Numero de teléfono requerido</span
        >
        <span
          class="help-block"
          *ngIf="telephone.dirty && telephone.hasError('maxlength')"
          >El número de teléfono es demasiado largo</span
        >
        <span
          class="help-block"
          *ngIf="telephone.dirty && telephone.hasError('pattern')"
          >Introduzca únicamente números</span
        >
      </div>
    </div>
    <div class="form-group">
      <div class="col-offset-2 col-10">
        <button class="button" type="button" (click)="gotoOwnersList()">
          Atrás
        </button>
        <button class="button" type="submit" [disabled]="!ownerForm.valid">
          Agregar
        </button>
      </div>
    </div>
  </form>
</div>
